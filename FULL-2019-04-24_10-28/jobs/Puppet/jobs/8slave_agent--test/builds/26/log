Started by user unknown or anonymous
[EnvInject] - Loading node environment variables.
Building remotely on [8mha:////4AZ+z2BfKQAqfAUXiN1AlNHDmhswcnmT8kvy0eNJ6IP/AAAAmB+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAymEgYe/eT83ILSktQifXNLAPQNQQzBAAAA[0m79 in workspace /home/ec2-user/jenkin/workspace/Puppet/8slave_agent--test
[8slave_agent--test] $ /bin/sh -xe /tmp/jenkins2997370098637163270.sh
+ sudo /opt/puppetlabs/bin/puppet agent --test
[0;32mInfo: Using configured environment 'production'[0m
[0;32mInfo: Retrieving pluginfacts[0m
[0;32mInfo: Retrieving plugin[0m
[mNotice: /File[/opt/puppetlabs/puppet/cache/lib/facter/git_exec_path.rb]/ensure: defined content as '{md5}ece20669f69721bc541c3092fb3d7d25'[0m
[mNotice: /File[/opt/puppetlabs/puppet/cache/lib/facter/git_html_path.rb]/ensure: defined content as '{md5}fef3ddbf4630842f29cf5174cfa37897'[0m
[mNotice: /File[/opt/puppetlabs/puppet/cache/lib/facter/git_version.rb]/ensure: defined content as '{md5}1eb64b19f1ddc6bb953490e230a8de3a'[0m
[mNotice: /File[/opt/puppetlabs/puppet/cache/lib/puppet/parser/functions/git_config_hash.rb]/ensure: defined content as '{md5}fd5624665584cc3a749a59715995cff9'[0m
[mNotice: /File[/opt/puppetlabs/puppet/cache/lib/puppet/provider/git_config]/ensure: created[0m
[mNotice: /File[/opt/puppetlabs/puppet/cache/lib/puppet/provider/git_config/git_config.rb]/ensure: defined content as '{md5}2db114bda74daf9de1bac405d606508b'[0m
[mNotice: /File[/opt/puppetlabs/puppet/cache/lib/puppet/type/git_config.rb]/ensure: defined content as '{md5}db895516466f062a1870ff11abb9fa82'[0m
[0;32mInfo: Retrieving locales[0m
[0;32mInfo: Loading facts[0m
[0;32mInfo: Caching catalog for 79.pulkit.co[0m
[0;32mInfo: Applying configuration version '1554286035'[0m
[mNotice: /Stage[main]/Docker::Install/Package[docker]/ensure: created[0m
[mNotice: /Stage[main]/Docker::Service/File[/etc/sysconfig/docker-storage-setup]/ensure: defined content as '{md5}506aef96bd8f918482f6ccb3ebbee4b7'[0m
[0;32mInfo: /Stage[main]/Docker::Service/File[/etc/sysconfig/docker-storage-setup]: Scheduling refresh of Service[docker][0m
[mNotice: /Stage[main]/Docker::Service/File[/etc/systemd/system/docker.service.d]/ensure: created[0m
[mNotice: /Stage[main]/Docker::Service/File[/etc/sysconfig/docker-storage]/content: 
--- /etc/sysconfig/docker-storage	2019-03-04 21:24:22.000000000 +0000
+++ /tmp/puppet-file20190403-4082-1uaen63	2019-04-03 10:07:27.651450251 +0000
@@ -1,3 +1,6 @@
+# This file is managed by Puppet and local changes
+# may be overwritten
+
 # This file may be automatically generated by an installation program.
 
 # By default, Docker uses a loopback-mounted sparse file in
@@ -9,6 +12,6 @@
 
 # Example: Use a custom pair of raw logical volumes (one for metadata,
 # one for data).
-# DOCKER_STORAGE_OPTIONS="--storage-opt dm.metadatadev=/dev/myvg/my-docker-metadata --storage-opt dm.datadev=/dev/myvg/my-docker-data"
+# DOCKER_STORAGE_OPTIONS = --storage-opt dm.metadatadev=/dev/mylogvol/my-docker-metadata --storage-opt dm.datadev=/dev/mylogvol/my-docker-data
 
-DOCKER_STORAGE_OPTIONS=
+DOCKER_STORAGE_OPTIONS=""
[0m
[0;32mInfo: Computing checksum on file /etc/sysconfig/docker-storage[0m
[0;32mInfo: /Stage[main]/Docker::Service/File[/etc/sysconfig/docker-storage]: Filebucketed /etc/sysconfig/docker-storage to puppet with sum c5b2e0068ccf6e1cd7042eec2c96be01[0m
[mNotice: /Stage[main]/Docker::Service/File[/etc/sysconfig/docker-storage]/content: content changed '{md5}c5b2e0068ccf6e1cd7042eec2c96be01' to '{md5}0f427b02d0882d0df4de752f77402f3e'[0m
[0;32mInfo: /Stage[main]/Docker::Service/File[/etc/sysconfig/docker-storage]: Scheduling refresh of Service[docker][0m
[mNotice: /Stage[main]/Docker::Service/File[/etc/sysconfig/docker]/content: 
--- /etc/sysconfig/docker	2019-03-04 21:24:22.000000000 +0000
+++ /tmp/puppet-file20190403-4082-ypydp1	2019-04-03 10:07:27.715449206 +0000
@@ -1,13 +1,9 @@
-# The max number of open files for the daemon itself, and all
-# running containers.  The default value of 1048576 mirrors the value
-# used by the systemd service unit.
-DAEMON_MAXFILES=1048576
+# This file is managed by Puppet and local changes
+# may be overwritten
 
-# Additional startup options for the Docker daemon, for example:
-# OPTIONS="--ip-forward=true --iptables=true"
-# By default we limit the number of open files per container
-OPTIONS="--default-ulimit nofile=1024:4096"
+OPTIONS=" -H unix:///var/run/docker.sock --ip-forward=true --iptables=true --ip-masq=true -G docker"
 
-# How many seconds the sysvinit script waits for the pidfile to appear
-# when starting the daemon.
-DAEMON_PIDFILE_TIMEOUT=10
+
+
+# This is also a handy place to tweak where Docker's temporary files go.
+TMPDIR="/tmp/"
[0m
[0;32mInfo: Computing checksum on file /etc/sysconfig/docker[0m
[0;32mInfo: /Stage[main]/Docker::Service/File[/etc/sysconfig/docker]: Filebucketed /etc/sysconfig/docker to puppet with sum ae58d736eac82d4103a0eff4d68d187d[0m
[mNotice: /Stage[main]/Docker::Service/File[/etc/sysconfig/docker]/content: content changed '{md5}ae58d736eac82d4103a0eff4d68d187d' to '{md5}81700906b44f9d5ac50375ca10522a52'[0m
[0;32mInfo: /Stage[main]/Docker::Service/File[/etc/sysconfig/docker]: Scheduling refresh of Service[docker][0m
[mNotice: /Stage[main]/Docker::Service/Service[docker]/ensure: ensure changed 'stopped' to 'running'[0m
[0;32mInfo: /Stage[main]/Docker::Service/Service[docker]: Unscheduling refresh on Service[docker][0m
[mNotice: /Stage[main]/Git/Package[git]/ensure: created[0m
[mNotice: /Stage[main]/Java/Package[java]/ensure: created[0m
[mNotice: /Stage[main]/Main/Node[79.pulkit.co]/Package[httpd]/ensure: created[0m
[mNotice: /Stage[main]/Main/Node[79.pulkit.co]/Service[httpd]/ensure: ensure changed 'stopped' to 'running'[0m
[0;32mInfo: /Stage[main]/Main/Node[79.pulkit.co]/Service[httpd]: Unscheduling refresh on Service[httpd][0m
[mNotice: /Stage[main]/Main/Node[79.pulkit.co]/Tomcat::Install[/opt/tomcat]/Group[tomcat]/ensure: created[0m
[mNotice: /Stage[main]/Main/Node[79.pulkit.co]/Tomcat::Install[/opt/tomcat]/User[tomcat]/ensure: created[0m
[mNotice: /Stage[main]/Main/Node[79.pulkit.co]/Tomcat::Install[/opt/tomcat]/Tomcat::Install::Source[/opt/tomcat]/File[/opt/tomcat]/ensure: created[0m
[mNotice: /Stage[main]/Main/Node[79.pulkit.co]/Tomcat::Install[/opt/tomcat]/Tomcat::Install::Source[/opt/tomcat]/Archive[/opt/tomcat-/opt/tomcat/apache-tomcat-9.0.17.tar.gz]/ensure: download archive from https://www.apache.org/dist/tomcat/tomcat-9/v9.0.17/bin/apache-tomcat-9.0.17.tar.gz to /opt/tomcat/apache-tomcat-9.0.17.tar.gz and extracted in /opt/tomcat with cleanup[0m
[0;32mInfo: Tomcat::Install[/opt/tomcat]: Scheduling refresh of Tomcat::Service[default][0m
[0;32mInfo: Tomcat::Install[/opt/tomcat]: Scheduling refresh of Tomcat::Service[default][0m
[0;32mInfo: Tomcat::Install[/opt/tomcat]: Scheduling refresh of Tomcat::Service[default][0m
[0;32mInfo: Tomcat::Service[default]: Scheduling refresh of Service[tomcat-default][0m
[mNotice: /Stage[main]/Main/Node[79.pulkit.co]/Tomcat::Instance[default]/Tomcat::Service[default]/Service[tomcat-default]/ensure: ensure changed 'stopped' to 'running'[0m
[0;32mInfo: /Stage[main]/Main/Node[79.pulkit.co]/Tomcat::Instance[default]/Tomcat::Service[default]/Service[tomcat-default]: Unscheduling refresh on Service[tomcat-default][0m
[mNotice: /Stage[main]/Main/Node[79.pulkit.co]/Tomcat::Instance[default]/Tomcat::Config::Properties[/opt/tomcat catalina.properties]/Concat[/opt/tomcat/conf/catalina.properties]/File[/opt/tomcat/conf/catalina.properties]/mode: mode changed '0600' to '0640'[0m
[mNotice: Applied catalog in 27.07 seconds[0m
Build step 'Execute shell' marked build as failure
Finished: FAILURE
