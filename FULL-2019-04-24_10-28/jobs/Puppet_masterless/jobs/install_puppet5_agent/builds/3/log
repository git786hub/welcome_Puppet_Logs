Started by user [8mha:////4NLhXnD5JFlpU0tHIRvI4Cdiw3uWMuEU78NPci5KsDGpAAAAnR+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAy+EgZB/dLi1CL9gtKc7MyS+KTEpEQA8SXzHsYAAAA=[0mPulkit_Agarwal
[EnvInject] - Loading node environment variables.
Building remotely on [8mha:////4A1hxIkVDcYc2c2r9v8+2vz1KGj/AAZ7sdi5zxJsObKGAAAAoB+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzuEgZR/eT83ILSktQi/dzEYiCVk1pcbAQASPp+KcoAAAA=[0mmasterless2 in workspace /home/ec2-user/jenkin/workspace/Puppet_masterless/install_puppet5_agent
[install_puppet5_agent] $ /bin/sh -xe /tmp/jenkins3236504062468163972.sh
+ sudo yum install git -y
Loaded plugins: extras_suggestions, langpacks, priorities, update-motd
Resolving Dependencies
--> Running transaction check
---> Package git.x86_64 0:2.17.2-2.amzn2 will be installed
--> Processing Dependency: perl-Git = 2.17.2-2.amzn2 for package: git-2.17.2-2.amzn2.x86_64
--> Processing Dependency: git-core-doc = 2.17.2-2.amzn2 for package: git-2.17.2-2.amzn2.x86_64
--> Processing Dependency: git-core = 2.17.2-2.amzn2 for package: git-2.17.2-2.amzn2.x86_64
--> Processing Dependency: emacs-filesystem >= 25.3 for package: git-2.17.2-2.amzn2.x86_64
--> Processing Dependency: perl(Term::ReadKey) for package: git-2.17.2-2.amzn2.x86_64
--> Processing Dependency: perl(Git::I18N) for package: git-2.17.2-2.amzn2.x86_64
--> Processing Dependency: perl(Git) for package: git-2.17.2-2.amzn2.x86_64
--> Processing Dependency: libsecret-1.so.0()(64bit) for package: git-2.17.2-2.amzn2.x86_64
--> Running transaction check
---> Package emacs-filesystem.noarch 1:25.3-3.amzn2.0.1 will be installed
---> Package git-core.x86_64 0:2.17.2-2.amzn2 will be installed
---> Package git-core-doc.noarch 0:2.17.2-2.amzn2 will be installed
---> Package libsecret.x86_64 0:0.18.5-2.amzn2.0.2 will be installed
---> Package perl-Git.noarch 0:2.17.2-2.amzn2 will be installed
--> Processing Dependency: perl(Error) for package: perl-Git-2.17.2-2.amzn2.noarch
---> Package perl-TermReadKey.x86_64 0:2.30-20.amzn2.0.2 will be installed
--> Running transaction check
---> Package perl-Error.noarch 1:0.17020-2.amzn2 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package              Arch       Version                   Repository      Size
================================================================================
Installing:
 git                  x86_64     2.17.2-2.amzn2            amzn2-core     217 k
Installing for dependencies:
 emacs-filesystem     noarch     1:25.3-3.amzn2.0.1        amzn2-core      64 k
 git-core             x86_64     2.17.2-2.amzn2            amzn2-core     4.0 M
 git-core-doc         noarch     2.17.2-2.amzn2            amzn2-core     2.3 M
 libsecret            x86_64     0.18.5-2.amzn2.0.2        amzn2-core     153 k
 perl-Error           noarch     1:0.17020-2.amzn2         amzn2-core      32 k
 perl-Git             noarch     2.17.2-2.amzn2            amzn2-core      70 k
 perl-TermReadKey     x86_64     2.30-20.amzn2.0.2         amzn2-core      31 k

Transaction Summary
================================================================================
Install  1 Package (+7 Dependent packages)

Total download size: 6.8 M
Installed size: 36 M
Downloading packages:
--------------------------------------------------------------------------------
Total                                               23 MB/s | 6.8 MB  00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : git-core-2.17.2-2.amzn2.x86_64                               1/8 
  Installing : git-core-doc-2.17.2-2.amzn2.noarch                           2/8 
  Installing : libsecret-0.18.5-2.amzn2.0.2.x86_64                          3/8 
  Installing : 1:perl-Error-0.17020-2.amzn2.noarch                          4/8 
  Installing : perl-TermReadKey-2.30-20.amzn2.0.2.x86_64                    5/8 
  Installing : 1:emacs-filesystem-25.3-3.amzn2.0.1.noarch                   6/8 
  Installing : perl-Git-2.17.2-2.amzn2.noarch                               7/8 
  Installing : git-2.17.2-2.amzn2.x86_64                                    8/8 
  Verifying  : 1:emacs-filesystem-25.3-3.amzn2.0.1.noarch                   1/8 
  Verifying  : perl-TermReadKey-2.30-20.amzn2.0.2.x86_64                    2/8 
  Verifying  : 1:perl-Error-0.17020-2.amzn2.noarch                          3/8 
  Verifying  : libsecret-0.18.5-2.amzn2.0.2.x86_64                          4/8 
  Verifying  : git-core-2.17.2-2.amzn2.x86_64                               5/8 
  Verifying  : git-2.17.2-2.amzn2.x86_64                                    6/8 
  Verifying  : perl-Git-2.17.2-2.amzn2.noarch                               7/8 
  Verifying  : git-core-doc-2.17.2-2.amzn2.noarch                           8/8 

Installed:
  git.x86_64 0:2.17.2-2.amzn2                                                   

Dependency Installed:
  emacs-filesystem.noarch 1:25.3-3.amzn2.0.1                                    
  git-core.x86_64 0:2.17.2-2.amzn2                                              
  git-core-doc.noarch 0:2.17.2-2.amzn2                                          
  libsecret.x86_64 0:0.18.5-2.amzn2.0.2                                         
  perl-Error.noarch 1:0.17020-2.amzn2                                           
  perl-Git.noarch 0:2.17.2-2.amzn2                                              
  perl-TermReadKey.x86_64 0:2.30-20.amzn2.0.2                                   

Complete!
+ sudo rpm -Uvh https://yum.puppetlabs.com/puppet5/puppet5-release-el-7.noarch.rpm
warning: /var/tmp/rpm-tmp.i9alfn: Header V4 RSA/SHA256 Signature, key ID ef8d349f: NOKEY
Retrieving https://yum.puppetlabs.com/puppet5/puppet5-release-el-7.noarch.rpm
Preparing...                          ########################################
Updating / installing...
puppet5-release-5.0.0-4.el7           ########################################
+ sudo yum install -y puppet-agent
Loaded plugins: extras_suggestions, langpacks, priorities, update-motd
Existing lock /var/run/yum.pid: another copy is running as pid 3878.
Another app is currently holding the yum lock; waiting for it to exit...
  The other application is: yum
    Memory :  72 M RSS (363 MB VSZ)
    Started: Mon Apr  8 06:01:09 2019 - 00:02 ago
    State  : Running, pid: 3878
Resolving Dependencies
--> Running transaction check
---> Package puppet-agent.x86_64 0:5.5.12-1.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package              Arch           Version              Repository       Size
================================================================================
Installing:
 puppet-agent         x86_64         5.5.12-1.el7         puppet5          20 M

Transaction Summary
================================================================================
Install  1 Package

Total download size: 20 M
Installed size: 20 M
Downloading packages:
warning: /var/cache/yum/x86_64/2/puppet5/packages/puppet-agent-5.5.12-1.el7.x86_64.rpm: Header V4 RSA/SHA256 Signature, key ID ef8d349f: NOKEY
Public key for puppet-agent-5.5.12-1.el7.x86_64.rpm is not installed
Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-puppet5-release
Importing GPG key 0xEF8D349F:
 Userid     : "Puppet, Inc. Release Key (Puppet, Inc. Release Key) <release@puppet.com>"
 Fingerprint: 6f6b 1550 9cf8 e59e 6e46 9f32 7f43 8280 ef8d 349f
 Package    : puppet5-release-5.0.0-4.el7.noarch (installed)
 From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-puppet5-release
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
Warning: RPMDB altered outside of yum.
  Installing : puppet-agent-5.5.12-1.el7.x86_64                             1/1 
  Verifying  : puppet-agent-5.5.12-1.el7.x86_64                             1/1 

Installed:
  puppet-agent.x86_64 0:5.5.12-1.el7                                            

Complete!
+ /opt/puppetlabs/bin/puppet status
[1;33mWarning: 'puppet status' is deprecated and will be removed in a future release
   (location: /opt/puppetlabs/puppet/lib/ruby/vendor_ruby/puppet/application/face_base.rb:244:in `main')[0m
{
  "is_alive": true,
  "version": "5.5.12"
}
+ sudo rm -rf /etc/puppetlabs/code/environments/production/data /etc/puppetlabs/code/environments/production/environment.conf /etc/puppetlabs/code/environments/production/hiera.yaml /etc/puppetlabs/code/environments/production/manifests /etc/puppetlabs/code/environments/production/modules
+ cd /etc/puppetlabs/code/environments/production/
+ git clone git://34.207.212.16/puppet-repo .
Cloning into '.'...
/etc/puppetlabs/code/environments/production/.git: Permission denied
Build step 'Execute shell' marked build as failure
Finished: FAILURE
